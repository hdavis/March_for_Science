<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
<title>March for Science Crowd Sizes 3D map</title>
<style>
  html, body, #viewDiv {
    padding: 0;
    margin: 0;
    height: 100%;
    width: 100%;
  }
</style>  
<link rel="stylesheet" href="https://js.arcgis.com/4.3/esri/css/main.css">
<script src="https://js.arcgis.com/4.3/"></script>
    
<script>
require([
  "esri/Map",
  "esri/views/SceneView",
  "esri/layers/TileLayer",  // Require the TileLayer module
  "dojo/dom",  // require dojo/dom for getting the DOM element
  "dojo/on",   // require dojo/on for listening to events on the DOM
  "dojo/domReady!"
], function(Map, SceneView, TileLayer) {
    
  var transportationLyr = new TileLayer({
      url: "https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer",
      id: "streets",
      opacity: 0.7
  });

  var housingLyr = new TileLayer({
      url: "https://tiles.arcgis.com/tiles/nGt4QxSblgDfeJn9/arcgis/rest/services/New_York_Housing_Density/MapServer",
      id: "ny-housing"
  });
    
  var map = new Map({
    basemap: "streets",
    // basemap: "topo",
    // basemap: "gray",
    // basemap: "dark-gray",
    // ground: "world-elevation",
    layers: [housingLyr]
  });

  map.layers.add(transportationLyr);
  // map.add(transportationLyr);
    
  var view = new SceneView({
    container: "viewDiv",  // Reference to the DOM node that will contain the view
    map: map            // References the map object created above
    scale: 50000000,    // Sets the initial scale to 1:50,000,000
    center: [-110, 37]  // Sets the center point of view with lon/lat  
  });
    
  var streetsLyrToggle = dom.byId("streetsLyr");  
    
  // Listen to the onchange event for the checkbox
  on(streetsLyrToggle, "change", function(){
      // When the checkbox is checked (true), set the layer's visibility to true
      transportationLyr.visible = streetsLyrToggle.checked;
    });  
    
    
    
    
});    
</script>
</head>  
<body>
  <div id="viewDiv"></div>
  <span id="layerToggle">
    <input type="checkbox" id="streetsLyr" checked> Transportation
  </span>  
</body> 
</html>